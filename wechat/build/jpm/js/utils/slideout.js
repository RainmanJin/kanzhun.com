function decouple(a,b,c){function d(a){g=a,e()}function e(){h||(requestAnimFrame(f),h=!0)}function f(){c.call(a,g),h=!1}var g,h=!1;a.addEventListener(b,d,!1)}function Slideout(a){a=a||{},this._startOffsetX=0,this._currentOffsetX=0,this._opening=!1,this._moved=!1,this._opened=!1,this._preventOpen=!1,this.panel=a.panel,this.menu=a.menu,this.panel.className+=" slideout-panel",this.menu.className+=" slideout-menu",this._fx=a.fx||"ease",this._duration=parseInt(a.duration,10)||300,this._tolerance=parseInt(a.tolerance,10)||70,this._padding=parseInt(a.padding,10)||256,this._initTouchEvents()}var scrollTimeout,scrolling=!1,doc=window.document,html=doc.documentElement,msPointerSupported=window.navigator.msPointerEnabled,touch={start:msPointerSupported?"MSPointerDown":"touchstart",move:msPointerSupported?"MSPointerMove":"touchmove",end:msPointerSupported?"MSPointerUp":"touchend"},prefix=function(){var a=/^(Webkit|Khtml|Moz|ms|O)(?=[A-Z])/,b=doc.getElementsByTagName("script")[0].style;for(var c in b)if(a.test(c))return"-"+c.match(a)[0].toLowerCase()+"-";return"WebkitOpacity"in b?"-webkit-":"KhtmlOpacity"in b?"-khtml-":""}(),requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}}();Slideout.prototype.open=function(){var a=this;return-1===html.className.search("slideout-open")&&(html.className+=" slideout-open"),this._setTransition(),this._translateXTo(this._padding),this._opened=!0,setTimeout(function(){a.panel.style.transition=a.panel.style["-webkit-transition"]=""},this._duration+50),this},Slideout.prototype.close=function(){var a=this;return this.isOpen()||this._opening?(this._setTransition(),this._translateXTo(0),this._opened=!1,setTimeout(function(){html.className=html.className.replace(/ slideout-open/,""),a.panel.style.transition=a.panel.style["-webkit-transition"]=""},this._duration+50),this):this},Slideout.prototype.toggle=function(){return this.isOpen()?this.close():this.open()},Slideout.prototype.isOpen=function(){return this._opened},Slideout.prototype._translateXTo=function(a){this._currentOffsetX=a,this.panel.style[prefix+"transform"]=this.panel.style.transform="translate3d("+a+"px, 0, 0)"},Slideout.prototype._setTransition=function(){this.panel.style[prefix+"transition"]=this.panel.style.transition=prefix+"transform "+this._duration+"ms "+this._fx},Slideout.prototype._initTouchEvents=function(){var a=this;decouple(doc,"scroll",function(){a._moved||(clearTimeout(scrollTimeout),scrolling=!0,scrollTimeout=setTimeout(function(){scrolling=!1},250))}),doc.addEventListener(touch.move,function(b){a._moved&&b.preventDefault()}),this.panel.addEventListener(touch.start,function(b){a._moved=!1,a._opening=!1,a._startOffsetX=b.touches[0].pageX,a._preventOpen=!a.isOpen()&&0!==a.menu.clientWidth}),this.panel.addEventListener("touchcancel",function(){a._moved=!1,a._opening=!1}),this.panel.addEventListener(touch.end,function(){a._moved&&(a._opening&&Math.abs(a._currentOffsetX)>a._tolerance?a.open():a.close()),a._moved=!1}),this.panel.addEventListener(touch.move,function(b){if(!scrolling&&!a._preventOpen){var c=b.touches[0].clientX-a._startOffsetX,d=a._currentOffsetX=c;if(!(Math.abs(d)>a._padding)&&Math.abs(c)>20){if(a._opening=!0,a._opened&&c>0||!a._opened&&0>c)return;a._moved||-1!==html.className.search("slideout-open")||(html.className+=" slideout-open"),0>=c&&(d=c+a._padding,a._opening=!1),a.panel.style[prefix+"transform"]=a.panel.style.transform="translate3d("+d+"px, 0, 0)",a._moved=!0}}})};
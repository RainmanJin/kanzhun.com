/*!
	Autosize 1.18.17
	license: MIT
	http://www.jacklmoore.com/autosize
*/

(function(e){typeof define=="function"&&define.amd?define("comp/textarea/jquery.autosize",e):e()})(function(){(function(e){var t={className:"autosizejs",id:"autosizejs",append:"\n",callback:!1,resizeDelay:10,placeholder:!0},n='<textarea tabindex="-1" style="position:absolute; top:-999px; left:0; right:auto; bottom:auto; border:0; padding: 0; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden; transition:none; -webkit-transition:none; -moz-transition:none;"/>',r=["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent","whiteSpace"],i,s=e(n).data("autosize",!0)[0];s.style.lineHeight="99px",e(s).css("lineHeight")==="99px"&&r.push("lineHeight"),s.style.lineHeight="",e.fn.autosize=function(n){return this.length?(n=e.extend({},t,n||{}),s.parentNode!==document.body&&e(document.body).append(s),this.each(function(){function v(){var n,r=window.getComputedStyle?window.getComputedStyle(t,null):null;r?(n=parseFloat(r.width),(r.boxSizing==="border-box"||r.webkitBoxSizing==="border-box"||r.mozBoxSizing==="border-box")&&e.each(["paddingLeft","paddingRight","borderLeftWidth","borderRightWidth"],function(e,t){n-=parseFloat(r[t])})):n=o.width(),s.style.width=Math.max(n,0)+"px"}function m(){var a={};i=t,s.className=n.className,s.id=n.id,u=parseFloat(o.css("maxHeight")),e.each(r,function(e,t){a[t]=o.css(t)}),e(s).css(a).attr("wrap",o.attr("wrap")),v();if(window.chrome){var f=t.style.width;t.style.width="0px";var l=t.offsetWidth;t.style.width=f}}function g(){var e,r;i!==t?m():v(),!t.value&&n.placeholder?s.value=o.attr("placeholder")||"":s.value=t.value,s.value+=n.append||"",s.style.overflowY=t.style.overflowY,r=parseFloat(t.style.height)||0,s.scrollTop=0,s.scrollTop=9e4,e=s.scrollTop,u&&e>u?(t.style.overflowY="scroll",e=u):(t.style.overflowY="hidden",e<a&&(e=a)),e+=f,Math.abs(r-e)>.01&&(t.style.height=e+"px",s.className=s.className,l&&n.callback.call(t,t),o.trigger("autosize.resized"))}function y(){clearTimeout(h),h=setTimeout(function(){var e=o.width();e!==p&&(p=e,g())},parseInt(n.resizeDelay,10))}var t=this,o=e(t),u,a,f=0,l=e.isFunction(n.callback),c={height:t.style.height,overflow:t.style.overflow,overflowY:t.style.overflowY,wordWrap:t.style.wordWrap,resize:t.style.resize},h,p=o.width(),d=o.css("resize");if(o.data("autosize"))return;o.data("autosize",!0);if(o.css("box-sizing")==="border-box"||o.css("-moz-box-sizing")==="border-box"||o.css("-webkit-box-sizing")==="border-box")f=o.outerHeight()-o.height();a=Math.max(parseFloat(o.css("minHeight"))-f||0,o.height()),o.css({overflow:"hidden",overflowY:"hidden",wordWrap:"break-word"}),d==="vertical"?o.css("resize","none"):d==="both"&&o.css("resize","horizontal"),"onpropertychange"in t?"oninput"in t?o.on("input.autosize keyup.autosize",g):o.on("propertychange.autosize",function(){event.propertyName==="value"&&g()}):o.on("input.autosize",g),n.resizeDelay!==!1&&e(window).on("resize.autosize",y),o.on("autosize.resize",g),o.on("autosize.resizeIncludeStyle",function(){i=null,g()}),o.on("autosize.destroy",function(){i=null,clearTimeout(h),e(window).off("resize",y),o.off("autosize").off(".autosize").css(c).removeData("autosize")}),g()})):this}})(jQuery||$)}),define("v2/ugc/ugc_common",["c/widgets","u/validator","comp/textarea/jquery.autosize"],function(){$.fn.extend({rating:function(e,t,n,r){this.each(function(i,s){var o=$(s);o.on("mouseenter","a",function(){var t=parseInt(o.find("a").index(this)+1,10),r="";o.hasClass("done")&&(r="done "),o.attr("class",r+e+t),n&&n(this)}).on("mouseleave",function(){var t=o.data("ind");o.hasClass("done")?(o.attr("class","done "+e+t),n&&n(o.find("a").eq(t-1))):(o.removeClass(function(){return $(this).attr("class",e.split(" ")[0])}),r&&r(this))}).on("click","a",function(){var e=parseInt(o.find("a").index(this)+1,10);o.addClass("done").data("ind",e),t&&t.call(this,e)})})}})}),define("comp/toggler/toggler",[],function(){return function(e){var t=$.extend({},{el:"",classname:"active",text:["收起","展开"],on:null,off:null},e);t.el.length&&t.el.on("click",function(){var e=$(this);e.hasClass(t.classname)?(e.removeClass(t.classname),t.text&&e.html(t.text[1]+"<i></i>"),t.off&&t.off.call(e)):(e.addClass(t.classname),t.text&&e.html(t.text[0]+"<i></i>"),t.on&&t.on.call(e))})}}),require.config({paths:{u:"js/utils",c:"js/site",comp:"../../components",v2:"v2/js",highcharts:"http://s.kanzhun.com/js/utils/highcharts"}}),require(["c/auth_dialog","c/widgets","v2/ugc/ugc_common","comp/toggler/toggler"],function(e){$(function(){function s(e,t){var n=t.length;for(var r=0;r<n;r++)if(e==$(t[r]).find("span").html())return!0;return!1}$("textarea.autosizejs").autosize();var e=$("#step_1"),t=$("#step_2"),n=$("#step_3");$(".select","#interviewDate").DIYSelect();var r=$("div.prompt_box");$("div.prompt_wrap i").hover(function(){r.removeClass("none")},function(){r.addClass("none")}),$("#resultDIV").on("click","a",function(e){e.preventDefault(),$(this).addClass("result").siblings().removeClass("result").parent().find("input:hidden").val($(this).data("vl")),$("#salaryDIV").find("input[name=salary]").val(""),$(this).data("vl")=="3"?$("#salaryDIV").show():$("#salaryDIV").hide(),$("#difficultyP").removeClass("none")}),$("#salaryDIV").on("keyup","input[type=text]",function(){var e=this.value.replace(/^0(?=\d+)|\D/g,"");$(this).val(e)}),$("#difficultyP span.rating_rect").rating("rating_rect rating_r_",function(n){var r=$(this),i=r.parent().find("input:hidden");i.val(n),setTimeout(function(){$(".step_content",e).slideToggle(function(){e.addClass("retract"),t.removeClass("none")})},300)},function(e){$(e).parent().next("em").html($(e).attr("title"))},function(e){$(e).next("em").html("")}),$("#ugcForm").on("click",".retract .ugc_h3",function(){$(this).parent().removeClass("retract").find(".step_content").show()});var i=function(e,t){var n=$(this),r=n.val();if(r.length<10)return t.err(n,"最少输入10个字！"),!1;if("maxLength"in document.createElement("textarea"))return t.succ(n),!0;var i=n.attr("maxlength");return i&&r.length>i?(t.err(n,"内容不要超过"+i+"字！"),!1):(t.succ(n),!0)};$("#ugcForm").validatorAll({elems:".v",prompt:{succ:function(e){e.parent().find("p.err").hide()},err:function(e,t){var n=e.parent().find("p.err");n.find("span").html(t||n.data("msg")).end().show()},normal:function(e){e.parent().find("p.err").hide()}},more:{title:function(e,t){return i.call(this,e,t)},process:function(e,t){return i.call(this,e,t)},cons:function(e,t){return i.call(this,e,t)},advice:function(e,t){return i.call(this,e,t)},question:function(e,t){return i.call(this,e,t)},answer:function(e,t){return i.call(this,e,t)}}}).init().submit(function(){if(!n.is(":hidden"))return!0;setTimeout(function(){$(".step_content",t).slideToggle(function(){return t.addClass("retract"),$("[type=submit]",t).hide(),n.show(),$(".arrow_down").hide(),$(".arrow_end").show(),!1})},300)}),$("#questionDIV").on("click","a.impressive",function(){var e=$(this),t=e.data("counts")||1;t++;var n='<dl class="ff_ta mt15 mb15 clearfix"><dt>令您印象深刻的问题（'+t+"）</dt>"+'<dd class="mt5">'+'<textarea class="ta autosizejs v" name="question" data-type="countNum" data-unnecessary="1" placeholder="写下你在面试过程中被问到的问题，给其他朋友一个参考"></textarea>'+"<div>"+'<p class="err fleft"><i class="i_excl"></i> <span></span></p>'+'<p class="ta_hint fright">已输入 <span class="green" node-type="num">0</span>/1000 个字（最少输入10个字）</p>'+"</div>"+"</dd>"+"</dl>"+'<dl class="ff_ta mt15 mb15 clearfix">'+"<dt>您的回答</dt>"+'<dd class="mt5">'+'<textarea class="ta autosizejs v" name="answer" data-type="countNum" data-unnecessary="1" placeholder="写下你在面对问题时的经典回答，让大家一起学习分享"></textarea>'+"<div>"+'<p class="err fleft"><i class="i_excl"></i> <span></span></p>'+'<p class="ta_hint fright">已输入 <span class="green" node-type="num">0</span>/1000 个字（最少输入10个字）</p>'+"</div>"+"</dd>"+"</dl>";e.before(n),e.data("counts",t),$("textarea.autosizejs").autosize(),t===5&&e.removeData("counts").remove()}),$("#ugcForm").on("keyup",'textarea[data-type="countNum"]',function(){var e=$(this),t=$.trim(e.val()),n=t.length,r=e.parent().find(".ta_hint").find('[node-type="num"]');r.html(n)}),$("form").keypress(function(e){if(e.which==13&&$(e.target).prop("nodeName")!="TEXTAREA")return!1});var o=$("#iv_tag");$(".tag_ipt").on("keyup",function(e){var t=$(this),n=$.trim(t.val());if(e.which==13){if(n=="")return;var r=o.find("a"),i=t.parent().prev(".err");if(s(n,r)){i.show().fadeOut(3e3).find("span").html("该标签已经存在");return}if($('[node-type="self"]',o).length==5){i.show().fadeOut(3e3).find("span").html("您最多只能添加5个面试印象");return}o.append('<li node-type="self"><input class="none" type="checkbox" name="interviewTag" value="'+n+'" checked><a class="a_tag" href="javascript:;"><span>'+n+'</span> <i class="i_close"></i></a></li>').show(),t.val("")}}),o.on("click","li",function(){$(this).remove(),o.find("li").length==0&&o.hide()}),$(".tag_ipt").on("focus",function(){$(this).next("span").removeClass("none")}).on("blur",function(){$(this).next("span").addClass("none")}),$(".js_radio").on("click","a",function(e){e.preventDefault();var t=$(this),n=t.parent().find("input:hidden");t.addClass("current").siblings().removeClass("current"),n.val(t.data("vl"))})})}),define("ugc/ugc_interview",function(){});
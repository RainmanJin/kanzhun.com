require.config({paths:{u:"js/utils",c:"js/site",comp:"../../components",highcharts:"http://s.kanzhun.com/js/utils/highcharts"}}),require(["c/widgets"],function(){$(function(){$.fn.countdown=function(e){function s(){var e=$(this),t=r,n=t%60,i=Math.floor(t/60)%60,s=Math.floor(t/60/60)%24,o=Math.floor(t/60/60/24);n=n<10?"0"+n:n,i=i<10?"0"+i:i,s=s<10?"0"+s:s,o=o<10?"0"+o:o;var u="<em>"+o+'<i class="i_line"></i></em><span>天</span>'+"<em>"+s+'<i class="i_line"></i></em><span>时</span>'+"<em>"+i+'<i class="i_line"></i></em><span>分</span>'+"<em>"+n+'<i class="i_line"></i></em><span>秒</span>';e.html(u)}var t=$.extend({endCallback:null},e),n=this,r=n.data("leavetime")||864e3,i=setInterval(function(){r--,r==0&&(clearInterval(i),t.endCallback&&t.endCallback()),s.call(n)},1e3)},$("#slipTime").countdown({endCallback:function(){}}),$("#email").bind("focus",function(){$(this).removeClass(),$("span.tip").html("")}),$("#btnBook").bind("click",function(){var e=$.trim($("#email").val()),t=/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/;if(e.length<1)return $("#email").addClass("error"),$(".tip").html("* 邮箱不能为空!"),!1;t.test(e)?$.get("/activity/blacklist/sub.json?email="+e,function(e){e.rescode==1?$.maskUI.alert("订阅成功!"):$.maskUI.alert("订阅失败!")}):($("#email").addClass("error"),$(".tip").html("* 邮箱格式不正确!"))})})});
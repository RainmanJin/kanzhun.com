define("comp/toggler/toggler",[],function(){return function(e){var t=$.extend({},{el:"",classname:"active",text:["收起","展开"],on:null,off:null},e);t.el.length&&t.el.on("click",function(){var e=$(this);e.hasClass(t.classname)?(e.removeClass(t.classname),t.text&&e.html(t.text[1]+"<i></i>"),t.off&&t.off.call(e)):(e.addClass(t.classname),t.text&&e.html(t.text[0]+"<i></i>"),t.on&&t.on.call(e))})}}),define("u/jquery-menu-aim",[],function(){function e(e){var t=$(this),n=null,r=[],i=null,s=null,o=$.extend({rowSelector:"> li",submenuSelector:"*",submenuDirection:"right",tolerance:75,enter:$.noop,exit:$.noop,activate:$.noop,deactivate:$.noop,exitMenu:$.noop},e),u=3,a=300,f=function(e){r.push({x:e.pageX,y:e.pageY}),r.length>u&&r.shift()},l=function(){s&&clearTimeout(s),o.exitMenu(this)&&(n&&o.deactivate(n),n=null)},c=function(){s&&clearTimeout(s),o.enter(this),d(this)},h=function(){o.exit(this)},p=function(e){if(e==n)return;n&&o.deactivate(n),o.activate(e),n=e},d=function(e){var t=v();t?s=setTimeout(function(){d(e)},t):p(e)},v=function(){function p(e,t){return(t.y-e.y)/(t.x-e.x)}if(!n||!$(n).is(o.submenuSelector))return 0;var e=t.offset(),s={x:e.left,y:e.top-o.tolerance},u={x:e.left+t.outerWidth(),y:s.y},f={x:e.left,y:e.top+t.outerHeight()+o.tolerance},l={x:e.left+t.outerWidth(),y:f.y},c=r[r.length-1],h=r[0];if(!c)return 0;h||(h=c);if(h.x<e.left||h.x>l.x||h.y<e.top||h.y>l.y)return 0;if(i&&c.x==i.x&&c.y==i.y)return 0;var d=u,v=l;o.submenuDirection=="left"?(d=f,v=s):o.submenuDirection=="below"?(d=l,v=f):o.submenuDirection=="above"&&(d=s,v=u);var m=p(c,d),g=p(c,v),y=p(h,d),b=p(h,v);return m<y&&g>b?(i=c,a):(i=null,0)};t.mouseleave(l).find(o.rowSelector).mouseenter(c).mouseleave(h),$(document).mousemove(f)}$.fn.menuAim=function(t){return this.each(function(){e.call(this,t)}),this}}),define("v2/search/search-left-filter",["comp/toggler/toggler","u/jquery-menu-aim"],function(){$(function(){$("ul.industry_field").menuAim({activate:function(e){$(e).addClass("current")},deactivate:function(e){$(e).removeClass("current")},rowSelector:">li",exitMenu:function(){return!0}});var e=require("comp/toggler/toggler"),t=$("dl.plr_twenty");e({el:$("div.see_more div.C-toggler"),on:function(){this.parent().siblings(".s-opts-more").show()},off:function(){this.parent().siblings(".s-opts-more").hide()}}),e({el:$("dt div.C-toggler",t),text:!1,on:function(){this.parent().next("dd").removeClass("none")},off:function(){this.parent().next("dd").addClass("none")}});var n=$("ul.search-opts-cities");$("ul.first_letter").on("click","li",function(){n.find("li").eq($(this).addClass("current").siblings("li").removeClass("current").end().index()).show().siblings("li").hide()})})}),define("c/job_searcher",["c/auth_dialog","c/widgets","u/validator"],function(e){function t(){var t=$("#jobSerDialog");$(".select",t).DIYSelect({listCallback:function(e,t,n){t.parent().find("input[type=hidden]").val($(this).data("val"))}});var n=$("#jobSerForm"),r=$("#jobCityeSug"),i=$("input[name=citycode]",n);r.autocomplete({serviceUrl:CONTEXTPATH+"/autocomplete/city.json",paramName:"query",dataType:"json",transformResult:function(e){return{suggestions:$.map(e.suggestions,function(e){return{value:e.value,data:e.data}})}},onSelect:function(e){i.val(e.data)},onSearchStart:function(){i.val("")},onInvalidateSelection:function(){i.val("")},onSearchComplete:function(e,t){t.length===0&&i.val("")},autoSelectFirst:!0}),n.validatorAll({elems:".v",prompt:{succ:function(e){$("p.err",e.parent()).hide()},err:function(e,t){var n=$("p.err",e.parent());n.html(t||n.data("msg")).show()},normal:function(e){$("p.err",e.parent()).hide()}},focusMore:{city:function(){i.val("")}},more:{city:function(e,t,n){var s=setTimeout(function(){return clearTimeout(s),i.val()===""&&r.val("").trigger("blur"),!0},300);return!0},email:{type:"isMail",msg:"邮箱格式不对！"}},ajaxSubmit:{elems:"input:text, input:hidden",beforeSend:function(){},success:function(t){t=t||{},t.rescode==1011?($.maskUI.close(),e.open("#login")):t.rescode==1?($("div.job_c_f",n).hide(),$("div.job_s_suc",n).show()):$("div.job_c_f p.j_err",n).html(t.resmsg||"系统异常！").show()}}}).init().submit(function(){return i.val()===""?!1:!0}),$("#jobTitleSug").autocomplete({serviceUrl:CONTEXTPATH+"/autocomplete/job.json",paramName:"query",dataType:"json",transformResult:function(e){return e=e||{},{suggestions:$.map(e.suggestions||[],function(e){return{value:e.value,data:e.data}})}}})}var n={init:function(){$("#jobSerDialog").length&&t(),$("#createJobSer").on("click",function(e){e.preventDefault(),n.create()})},create:function(n,r){e.isLogged()?($("#jobSerDialog").remove(),$.ajax({type:"get",dataType:"json",url:"/usercenter/jobsearcher/edit.json",data:{id:n||""},beforeSend:function(){$.maskUI.open({content:'<p class="js-loading mt10 mb10 t-center"><img src="/images/loading.gif" /></p>'})},success:function(e){if(e&&e.html){$("body").append(e.html);var n=$("#jobSerDialog");$.maskUI.open({elem:n,pos:"absolute"}),$("input:text.v",n).placeholderS(),t(),r&&r()}}})):e.open("#login")}};return n}),define("c/mini_search",["c/widgets"],function(){$(function(){var e=$("#MSSFloor"),t=$("#MSSFloorFixed"),n=$("#MSSQType"),r={serviceUrl:CONTEXTPATH+"/autocomplete/searchkey.json",paramName:"query",width:463,params:function(e){return{query:e,type:n.val()}},dataType:"json",transformResult:function(e){return{suggestions:$.map(e.suggestions,function(e){return{value:e.value,type:e.type}})}},customHTML:function(e,t,n,r){var i=[],s=[],o=[],u;$.each(e||[],function(e,i){e===0&&(u=i.type),i.type=="1"?s.push('<div class="'+t+'" data-index="'+e+'">'+n(i,r)+"</div>"):o.push('<div class="'+t+'" data-index="'+e+'">'+n(i,r)+"</div>")});if(o.length){var a=u==0?"unshift":"push";a=="unshift"?(i[a]("<dt>职位</dt><dd>"+o.join("")+"</dd>"),s.length&&i.push('<dt class="bd">公司</dt><dd class="bd">'+s.join("")+"</dd>")):(i[a]('<dt class="bd">职位</dt><dd class="bd">'+o.join("")+"</dd>"),s.length&&i.unshift("<dt>公司</dt><dd>"+s.join("")+"</dd>"))}else if(s.length)return i=[],i.push(s.join("")),i.join("");return i.length===0?"":"<dl>"+i.join("")+"</dl>"},onSelect:function(e){var t=$(this).closest("form");$("input[name=stype]",t).val(e.type),t.submit()}};e.placeholderS(),t.placeholderS(),e.autocomplete(r),t.autocomplete($.extend({},r,{appendTo:t.parent(),width:462}));var i=$("#topSearchFixed");if(i.length)var s=setTimeout(function(){var e=$("#topSearchOriginal").offset().top+300;$(window).on("scroll",function(){var t=$(document).scrollTop();t>e?i.fadeIn():i.fadeOut()})},200);$("input").placeholderFocus()})}),define("c/seo/bottomlinks",["c/widgets"],function(){$(function(){function e(e){e.height()<=22?$(e).find("aside").addClass("none"):e.addClass("hiddens")}e($("div.navcon_one")),e($("div.navcon_two")),e($("div.navcon_three")),e($("div.navcon_four")),$(".navs .navscon:gt(0)").addClass("none"),$(".navstt a").hover(function(){var e=$(this).index(),t=$(".navs .navscon");t.addClass("none"),t.eq(e).removeClass("none"),$.support.css3Property("transition")?$(this).parent().css({"background-position":73*e+"px bottom"}):$(this).parent().css({backgroundPositionX:73*e+"px"},100)}),e($("div.companyconss")),e($("div.companycons")),$(".companycon aside").click(function(){var e=$(this).parent();e.height()<=22?(e.removeClass("hiddens"),$.support.css3Property("transition")&&$(this).find("span").addClass("transforms")):(e.addClass("hiddens"),$.support.css3Property("transition")&&$(this).find("span").removeClass("transforms"))})})}),require.config({paths:{u:"js/utils",c:"js/site",comp:"../../components",highcharts:"http://s.kanzhun.com/js/utils/highcharts",v2:"v2/js"}}),require(["c/auth_dialog","v2/search/search-left-filter","c/company/salary_desc","c/job_searcher","c/mini_search","c/seo/bottomlinks"],function(e){$(function(){var t=require("c/company/salary_desc");$("#jobSearchRet").on("click","p.sr_nav>a",function(e){e.preventDefault();var n=$(this),r=n.attr("href"),i=n.parents("div.sparrow");i.find("dl.spw").addClass("slidedown"),n.attr("href").indexOf("#")!==0?$.ajax({type:"get",url:r,dataType:"html",beforeSend:function(){n.attr("href","#"),i.find("div.evaluation_info").hide().end().find("div.loading").show()},success:function(e){var n=$(e);i.find("div.loading").hide().end().append(n.fadeIn()),t({table:n.find("table.salary-desc")})},error:function(){n.attr("href",r),r=null}}):i.find("div.evaluation_info").hide().end().find("div."+n.data("panel")).fadeIn(),n.addClass("current").siblings("a").removeClass("current")}).on("click","div.evaluation_info>a.close",function(e){var t=$(this).parents("div.evaluation_info").hide().siblings("dl.spw");t.removeClass("slidedown"),t.find("p.sr_nav>a").removeClass("current")}).on("click","a.favorite",function(t){t.preventDefault();if(!e.isLogged()){e.open("#login");return}var n=$(this),r=n.data("j");r&&$.getJSON(CONTEXTPATH+"/job/adduserjc.json?jobId="+r,function(t){t=t||{},t.rescode==1011?e.open("#login"):t.rescode==1&&n.html("已收藏").addClass("favorited").data("j",null)})});var n=$("#jobSerDialog");$("#createJobSer").on("click",function(t){t.preventDefault(),e.isLogged()?n.length&&($.maskUI.open({elem:n,pos:"absolute"}),$("input:text.v",n).placeholderS()):e.open("#login")});var r=require("c/job_searcher");r.init()})}),define("search/search-jobs",function(){});
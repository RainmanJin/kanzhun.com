require.config({baseUrl:"/js/site",paths:{u:"../utils",c:".",comp:"../../components"}}),require(["c/widgets","u/validator"],function(){$(function(){var e=$("input[name=accountCheck]");$("#bindEmailForm").validatorAll({elems:"input",prompt:{succ:function(e,t){var n=e.parent();$("p.err",n).hide(),n.removeClass("error focus")},err:function(e,t,n){var r=e.parent(),i=$("p.err",r);i.html("<i></i>"+(t||i.data("msg"))).show(),r.removeClass("focus").addClass("error")},normal:function(e,t){var n=e.parent();$("p.err",e.parent()).hide(),n.removeClass("error").addClass("focus")}},focusMore:function(e){return $(this).parent().removeClass("error").addClass("focus"),!0},more:{account:{type:"isMail",msg:"邮箱格式不正确！",fn:function(t,n,r){var i=$(this),s=this.value;return e.val()==s?(n.err(i,"此邮箱已被注册！"),!1):($.getJSON(CONTEXTPATH+"/account/checkAccountBind.json?account="+encodeURIComponent(s),function(t){t=t||{},t.rescode==1?t.result?(n.err(i,"此邮箱已被注册！"),e.val(s)):(n.succ(i),e.val("")):(n.err(i,t.resmsg||"服务器异常！"),e.val(""))}),!0)}},password:{type:/^(?![^a-zA-Z]+$)(?!\D+$).{6,14}$/,msg:"密码格式不正确！",fn:function(e,t){var n=e.form.find("input[name=confirmPassword]"),r=$.trim(n.val());return r!==""&&this.value!=r?(t.err($(this),"两次密码不一致！"),t.normal(n),!1):(t.succ($(this)),r!==""&&t.succ(n),!0)}},confirmPassword:{type:/^(?![^a-zA-Z]+$)(?!\D+$).{6,14}$/,msg:"密码格式不正确！",fn:function(e,t){var n=e.form.find("input[name=password]"),r=$.trim(n.val());return r!==""&&this.value!=r?(t.err($(this),"两次密码不一致！"),t.normal(n),!1):(t.succ($(this)),r!==""&&t.succ(n),!0)}}}}).init().submit(function(){return e.val()!==""?!1:!0})})});